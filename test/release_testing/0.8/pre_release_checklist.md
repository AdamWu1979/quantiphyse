# Quantiphyse pre-release test checklist

This document records testing of a Quantiphyse release.

Each widget needs to be individually tested and either passed or
failed. In addition there are a set of generic non-widget specific tests.

Observations or minor non-blocking issues can be recorded in the 'Notes'
section. This may include references to bugs which do not need to be 
fixed prior to release.

Release blocking issues should be raised as bugs and listed in the
'Blockers' section. The widget cannot pass while blocking issues exist.

In general failure on one platform is not acceptable, however minor 
platform differences and limitations can be noted.

## Example of a widget test

### Coffee making widget - FAIL

#### Notes

 - A bit too much sugar for my taste
 - Issue #1234: Does not remember users preferred blend

#### Blocking issues

 - Issue #1452: Error when coffee jar is empty
 - Issue #9876: Water is cold

## Release procedure

Release procedure is to copy this file into a directory for each release
e.g. 0.6. Each check should be done on each release build (Windows, OSX, 
Linux). 

## Target release

v0.8

## Test build / system

Simultaneous test on Windows 7, Ubuntu 18.04, OSX Mojave 10.14.1

## General checks

Should do these last, tick to indicate that you have been doing the checks and
not found any problems.

- [x] Check for errors or output on console
- [x] Check for visible GUI artifacts
- [x] Load volume, ROI and overlay
  - [x] From menu
  - [x] From drag/drop
  - [x] From command line
- [x] Verify view against previous release.
- [x] different resolution data (e.g. asl vs struc)
- [x] Check crosshair position on click in all windows
- [x] Check pan/zoom in normal and maximised mode
- [x] Check double click to maximise and then minimise, windows in consistent grid
- [x] Check space and time sliders consistent with previous version
- [x] Load second overlay, check switching
- [x] Load second ROI, check switching
- [x] Clear all data, load replacement data set check range handled correctly
- [x] Load large volume / overlay / roi to check large file handling on 64 bit system
- [x] Value of main data, ROI and overlay updates on click, respects voxel boundaries
- [x] Relative position of overlay/ROI
- [x] Change levels, updates view and histogram
- [x] Automatic levels as percentile, check 100%, 90% within/without ROI
- [x] Check handling of out of range values above/below 
- [x] Colourmap selector updates histogram and view
- [x] Shaded, contour, both and None working
- [x] Alpha slider fast and working

#### Notes

 - OSX console errors (modalSession) - believed to be QT4 issue

## Widget checks

### Data statistics - PASS

### Histogram - PASS

#### Notes

 - Some GUI artifacts on Mac

### Radial profile - PASS

#### Notes

 - Issue #15: On Mac, error on first click after changing data selection

Not a blocker. Only impacts one platform, may be bug in dependency and does not 
prevent usage

### Voxel analysis - PASS

### Multi-voxel analysis - PASS

### Compare data - PASS

### Measurement - PASS

### Simple Maths - PASS

#### Notes

 - Does not switch to output data set
 - Output name taken from data space selection
 - Silly output when data space does not match selection - documentation issue?
 - Issue #18: Integer data incorrectly flagged as ROI

Not blocker issue, since not a high-profile tool and one which expects a degree of
user awareness.

### Smoothing - PASS

### PCA - PASS

#### Notes

 - Segfault on selection on Windows - not reproducible, no backtrace

### Clustering - PASS

#### Notes

 - Issue #20: Occasional segfault on all platforms although not using clustering recently

### Supervoxels - PASS

### ROI analysis - PASS

### Mean in ROI - PASS

#### Notes

 - Voxel analysis values don't seem to perfectly align with click location - check rounding of point of focus

### ROI builder - PASS

#### Notes

 - Segfaults on Mac?
 - Issue #21: Random walker error - this tool has been disabled for the release

### Orient data - PASS

#### Notes

 - UI poor - needs an overhaul but not a blocker as rarely used tool

### Resample - PASS

#### Notes

 - Repeated use prone to PySide segfault bug (retrieveMetaObject)

### Mean in ROI - PASS

### Registration / Apply Transform - PASS

#### Notes

 - Also Apply To not good with ROIs
 - Poor option availability for FLIRT/MCFLIRT

### Batch builder - PASS

#### Notes

 - `Reset` can't distinguish between files loaded and those generated by processings steps 

### Add Noise - PASS

### Simulate Motion - PASS

### ASL Preprocess - PASS

### Multiphase ASL - PASS

### ASL pipeline - PASS

#### Notes

 - Log does not always complete
 - No report on Mac?

### CEST - PASS

### DCE - PASS

### Bayesian DCE - PASS

### DSC - PASS

### T1 - PASS

### Fabber T1 - PASS

### Fabber - PASS

### Simulated Fabber Data - PASS

## Batch examples

- [x] Calculate volumes
- [x] CEST
- [x] Clustering
- [x] DSC
- [x] ENABLE
- [x] Fabber
- [x] Mean values
- [x] Moco DEEDS
- [x] Moco MCFLIRT
- [x] Multiphase ASL
- [x] Multiple cases
- [x] OXASL
- [x] Pipeline
- [x] PK preclinical
- [x] PK clinical
- [x] Reg DEEDS
- [ ] Reg FLIRT NOT YET IMPLEMENTED
- [ ] Reg FNIRT NOT YET IMPLEMENTED
- [x] Resampling
- [x] Save
- [x] Simple maths
- [x] Summary stats
- [x] Supervoxels
- [x] T10 clinical
- [x] T10 preclinical
- [ ] Fabber T1 NOT YET IMPLEMENTED


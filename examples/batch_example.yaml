### Illustration of proposed YAML-based batch file format

# Default data and options. This is overridden by any match data/options
# specified in a data case.
# Note that data is loaded separately for each case
# and the main volume is always loaded first, so no worries about 
# loading an overlay without a main volume

OutputFolder: out
Debug: True
#Overlays:
#  T10: c:\Users\ctsu0221\build\data\mean_c0.nii

# Defines the processing to be done on each case
# This is given as a list so the order of tasks is preserved

Processing:
  - MCFlirt:
      cost: normcorr
      replace-vol: True

  - Fabber:
      loadmodels: c:\Users\ctsu0221\fsl_x64_release\bin\fabber_models_dce.dll
      method: vb
      max-iterations: 30
      model:  poly
      degree: 2 
      save-mean:

# Output data. Can opt to save the whole workspace, or just key volumes
# Note that the output folder is used to form the filename

#SaveWorkspace
SaveVolume:
SaveOverlays:
    mean_c0 :
    mean_c1:
    mean_c2:
SaveRois:
    mask: seg

# List of cases to apply the processing to

Cases:
    MrX:
        Folder:   c:\Users\ctsu0221\build\data\
        Volume:   test_data.nii
        Rois:
          mask: test_mask.nii

        # Can override processing defaults here
        MCFlirt:
          refvol: 10 

    #MrsY:
    #    Folder:   c:\Users\ctsu0221\build\data\testdata\qiba\
    #    Volume:     qiba_lesst_20.nii
    #    Roi:      qiba_mask.nii


